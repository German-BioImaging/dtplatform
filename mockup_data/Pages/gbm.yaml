id: https://wellcomeleap.org/delta-tissue/models/mdr/gbm
name: gbm

description: |-
  Delta Tissue MDR model for glioblatoma data.

license: https://creativecommons.org/publicdomain/zero/1.0/

imports:
  - linkml:types

default_curi_maps:
  - semweb_context

default_range: string

prefixes:
  linkml: https://w3id.org/linkml/
  clinic: http://clinicalsite.semscape.org/
  dcat: http://www.w3.org/ns/dcat#
  dcterms: http://purl.org/dc/terms/
  efo: http://www.ebi.ac.uk/efo/
  foaf: http://xmlns.com/foaf/0.1/
  gbm: https://wellcomeleap.org/delta-tissue/ns/gbm/
  lab: http://labsite.semscape.org/
  node: http://idr.semscape.org/nodeURI/
  obo: http://purl.obolibrary.org/obo/
  # TBD: non-canonical use of https for schema.org
  schema: https://schema.org/
  sio: http://semanticscience.org/resource/
  subject: http://subjects.semscape.org/
  wd: http://www.wikidata.org/entity/
  wdt: http://www.wikidata.org/prop/direct/
  xsd: http://www.w3.org/2001/XMLSchema#

default_prefix: gbm

classes:

  Root:
    description: |-
      Root container for the primary identifiers in this dataset.
    tree_root: true
    slots:
      - subjects
      - datasets

  Datafile:
    class_uri: dcat:Dataset
    description: |-
      Dataset definition which introduced a particular subject.
    attributes:
      uri:
        identifier: true
      format:
        slot_uri: dcterms:format
      issued:
        slot_uri: dcterms:issued
      modified:
        slot_uri: dcterms:modified

  Finding:
    description: |-
      Target of a NCIT_R108 "disease has finding"
    slots:
      - unit
      - value # TBD: can't UNION types & enums

  History:
    # class_uri: obo:NCIT_C81246
    slots:
      - timestamp
      - value
    attributes:
      has_quality:
        slot_uri: obo:RO_0000086x # TBD
        range: Term
      range:
        slot_uri: rdfs:range
        range: Term
      unit:
        slot_uri: sio:SIO_000221
        range: Term

  IDH:
    class_uri: obo:NCIT_C157185
    description: |-
      IDH1/IDH2 Mutation Analysis
    slots:
      - timestamp
      - value  # range: TBD
    attributes:
      unit:
        range: string # TBD

  Localization:
    description: |-
      Anatomical localization along with qualifiers
    slots:
      - value  # range: TBD
    attributes:
      qualifier:
        slot_uri: obo:NCIT_A4


  Pathology:
    description: |-
      it's complicated ... (TBD: bnode)
    slots:
      - quality
    attributes:
      finding:
        slot_uri: obo:NCIT_R108
        range: Finding
        multivalued: true
        inlined: true
      history:
        slot_uri: obo:BFO_0000185
        range: History
        multivalued: true
        inlined: true
      idh:
        slot_uri: obo:MICRO_0001469
        range: IDH
        inlined: true
      localization:
        slot_uri: wd:P927
        range: Localization
        inlined: true
      specimen:
        slot_uri: obo:HSO_0000308
        range: Specimen
        multivalued: true
        inlined: true

  Properties:
    description: |-
      Bnode representing the properties associated with a patient.
    slots:
      - label
      - quality
    attributes:
      age:
        slot_uri: foaf:age
        range: integer
      birth_date:
        slot_uri: schema:birthDate
        range: date
      diagnosis:
        slot_uri: schema:diagnosis
        range: Pathology
        inlined: true
      gender:
        slot_uri: schema:gender
        range: GenderEnum

  Quality:
    description: |-
      A quality that is had by a patient.
    slots:
      - timestamp
      - unit

  Specimen:
    class_uri: obo:NCIT_C70700
    description: |-
      Archived specimen from a subject.
    slots:
      - value
    slot_usage:
      value:
        range: Term

  Subject:
    class_uri: obo:NCIT_C16960
    description: |-
      Central class of the GBM model, or "Patient".
    slots:
      - id
    attributes:
      site:
        slot_uri: sio:SIO_000066
        any_of:
          - range: schema:MedicalClinic
          - range: schema:DiagnosticLab
        multivalued: true
      datafile:
        slot_uri: dcterms:isPartOf
        range: Datafile
      properties:
        slot_uri: sio:SIO_000223
        range: Properties
        inlined: true
        inlined_as_list: false
        multivalued: false

  Timestamp:
    description: |-
      Sometimes the target of IAO_0000581 (TBD)
    slots:
      - label

slots:
  datasets:
    slot_uri: gbm:datafiles #TBD
    range: Datafile
    inlined: true
    inlined_as_list: true
    multivalued: true
  subjects:
    slot_uri: gbm:subjects #TBD
    range: Subject
    inlined: true
    inlined_as_list: true
    multivalued: true
  id:
    identifier: true
    slot_uri: dcterms:identifier
    range: uriorcurie
  label:
    slot_uri: rdfs:label
    range: string
  quality:
    slot_uri: obo:RO_0000086
    range: Quality
    inlined: true
    inlined_as_list: true
    multivalued: true
  timestamp:
    slot_uri: obo:IAO_0000581
    range: Timestamp
    inlined: true
  unit:
    slot_uri: sio:SIO_000221
    range: Term
  value:
    slot_uri: rdf:value
    multivalued: true

enums:
  GenderEnum:
    permissible_values:
      M:
        meaning: obo:NCIT_C16576
      F:
        meaning: obo:NCIT_C20197
      unknown:
        description: gender is not known
        todos:
          - map this to an ontology
  Term:
    permissible_values:
      steroid:
        meaning: obo:CHEBI_35341
      PartialResection:
        meaning: obo:NCIT_C131680
      UnmethylatedMGMTGenePromoter:
        meaning: obo:NCIT_C132892
      MGMTGenePromoterMethylation:
        meaning: obo:NCIT_C153562
      Biopsy,:
        meaning: obo:NCIT_C175027
      PartialRemission:
        meaning: obo:NCIT_C18058
      GeneMutation:
        meaning: obo:NCIT_C18093
      StableDisease:
        meaning: obo:NCIT_C18213
      Adjuvant:
        meaning: obo:NCIT_C2140
      Right:
        meaning: obo:NCIT_C25228
      Cycle,:
        meaning: obo:NCIT_C25472
      Month:
        meaning: obo:NCIT_C29846
      ProgressiveDisease:
        meaning: obo:NCIT_C35571
      Dorsal:
        meaning: obo:NCIT_C45874
      CompleteRemission:
        meaning: obo:NCIT_C4870
      WildType:
        meaning: obo:NCIT_C62195
      DrugFIXME:
        meaning: obo:UO_0000022
      Biopsy:
        meaning: obo:NCIT_C15189
